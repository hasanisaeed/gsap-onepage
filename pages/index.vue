<template>
  <div>
    <div class="intro">
      <h4 class="intro__text">
        در شهریور 96، جمعی از نخبگان کارآفرینی، فناوری و لجستیک گرد هم آمدند و برای حل چالش های حمل و نقل جاده ای کالای
        کشور، ایده دانش بنیان سامانه هوشمند حمل بار را در قامت باروان پدید آوردند تا صاحبان کالا دغدغه حمل نداشته،
        رانندگان کامیون همواره به بار دسترسی داشته و بهره وری و خدمات شرکت های حمل و نقلی توسعه پیدا کند.

        خاطر آسوده صاحب کالا، لبخند رضایت راننده و اعتماد شرکت حمل و نقلی ارزش های ماست. می کوشیم با تحقیق و توسعه در
        کنار تجربیات سازنده کیفیت خدمات باروان را بالا برده و چشم اندازی روشن و با ارزش برای صنعت حمل و نقل کالای کشور
        بسازیم و آن را در تراز جهانی ارائه کنیم.

      </h4>
      <h4 class="intro__text-ios">کاروان</h4>
    </div>

    <div class="outer">
      <div class="device">
        <div class="phone"></div>
      </div>
      <div class="text">
        <h1>
          رانندگان عزیز با پیوستن به سامانه هوشمند باروان، به بزرگترین سالن اعلام بار مجازی کشور دسترسی پیدا کنید، هزینه
          ها را کاهش و درآمد خود را بالا ببرید:
        </h1>

        <h1>
          استعلام خلافی کامیون، عوارض جاده ای، حواله دولتی لاستیک کامیون و …
        </h1>

        <h1>
          باروان چیست؟
          سامانه هوشمند حمل بار
          باروان یک سامانه اعلام بار و حمل بار است. در این سامانه صاحب کالا به راحتی اعلام بار کرده و بار خود را در معرض
          دید و انتخاب هزاران راننده کامیون از سراسر کشور قرار می دهد
        </h1>

        <h1 class="text__last">اپلیکیشن رانندگان باروان را از اینجا دانلـود و به سادگی ثبت نام کنید!</h1>
      </div>
    </div>

    <section class="mobile">
      <div class="hardware"></div>
      <div class="screen">
        <div class="image-top"></div>
        <ul class="downloads">
          <li class="download">
            <div class="download-show">

            </div>
          </li>
          <li class="download on on-1">
            <div class="container">
              <div class="logo"></div>
              <h1> Saifuddin Syed </h1>
              <h3> CSE Grad | Enthusiast </h3>
              <p class="bio">
                I think of myself as possessing a critical, dynamic and perpetual intelligence which I intend to allow it to operate.
              </p>
              <p class="social">
                <a title="Facebook" target="_blank" href="https://www.facebook.com/100006665290943">
                  <i class=" s-btn fab fa-facebook-f"></i></a>
                <a title="Instagram" target="_blank" href="https://www.instagram.com/saifylovezyou">
                  <i class="s-btn fab fa-instagram"></i></a>
                <a title="Twitter" target="_blank" href="https://twitter.com/saifylovezyou">
                  <i class="s-btn fab fa-twitter"></i></a>
                <a title="Codepen" target="_blank" href="https://codepen.io/saify/">
                  <i class="s-btn fab fa-codepen"></i></a>
                <a title="Linkedin" target="_blank" href="https://www.linkedin.com/in/saifuddins/">
                  <i class="s-btn fab fa-linkedin-in"></i></a>
              </p>
            </div>
          </li>
          <li class="download on on-2"></li>
          <li class="download on on-3"></li>
        </ul>
      </div>
    </section>

    <div class="cards">
      <div class="outer">
        <div class="card" style="--delay:-1;">
          <div class="content">
            <div class="img"><img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQAFIvBPH9fIMQZis4SHYTuv485uqr38bg1VQ&usqp=CAU">
            </div>
            <div class="details">
              <span class="name">Iron Man</span>
              <p>Frontend Developer</p>
            </div>
          </div>
          <a href="#">Follow</a>
        </div>
        <div class="card" style="--delay:0;">
          <div class="content">
            <div class="img"><img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSIMYmBQyoz9BWjEiMi5XipSPOmhamZUyI1gQ&usqp=CAU"
              alt=""></div>
            <div class="details">
              <span class="name">Spider Man</span>
              <p>Full-stack Developer</p>
            </div>
          </div>
          <a href="#">Follow</a>
        </div>
        <div class="card" style="--delay:1;">
          <div class="content">
            <div class="img"><img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRe2k6vsAWhq5UPsCW58Q2RSCKqPxMDq75wfg&usqp=CAU"
              alt=""></div>
            <div class="details">
              <span class="name">Venom</span>
              <p>Tester</p>
            </div>
          </div>
          <a href="#">Follow</a>
        </div>
        <div class="card" style="--delay:2;">
          <div class="content">
            <div class="img"><img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcStwJX81iy7cnzgclyjTKlNnDlzIzPN1KSIgA&usqp=CAU"
              alt=""></div>
            <div class="details">
              <span class="name">Batman</span>
              <p>Backend Developer</p>
            </div>
          </div>
          <a href="#">Follow</a>
        </div>
        <div class="card" style="--delay:2;">
          <div class="content">
            <div class="img"><img
              src="https://static.rogerebert.com/uploads/review/primary_image/reviews/great-movie-superman-1978/EB20101104REVIEWS08101109987AR.jpg"
              alt=""></div>
            <div class="details">
              <span class="name">Superman</span>
              <p>Youtuber</p>
            </div>
          </div>
          <a href="#">Follow</a>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import {ScrollTrigger} from 'gsap/ScrollTrigger'

export default {
  mounted() {
    this.startAnimation()
    // this.scrollStart()
  },
  methods: {
    scrollStart() {
      this.$gsap.registerPlugin(ScrollTrigger);

      let tl = this.$gsap.timeline({
        scrollTrigger: {
          id: 'box',
          trigger: '.elements',
          toggleActions: 'play pause resume pause',
          start: 'top top',
          end: 'bottom top',
          scrub: 0.25,
          pin: true
        }
      });

      let tl2 = this.$gsap.timeline({
        scrollTrigger: {
          id: 'text',
          trigger: '.text',
          start: 'top 80%',
          end: 'bottom 80%',
          markers: true,
          scrub: 0.25
        }
      });

      var boxEls, textEls;

      boxEls = document.querySelectorAll('.box');
      textEls = document.querySelectorAll('.t');

      tl.from(boxEls, {
        opacity: 0,
        stagger: 0.5
      });

      tl2.from(textEls, {
        opacity: 0,
        stagger: 0.5
      });
    },

    /*********************************/

    startAnimation() {
      this.$gsap.registerPlugin(ScrollTrigger);

      const textTitles = [...document.querySelectorAll("h1")];

      this.$gsap.timeline({
        scrollTrigger: {
          trigger: ".phone",
          start: "center center",
          // end: "center 60%",
          endTrigger: ".text__last",
          pinSpacing: true,
          pin: true
        }
      });
      textTitles.forEach((title, i) => {
        this.$gsap.to(title, {
          opacity: 1,
          scrollTrigger: {
            trigger: title,
            // start: "top 55%",
            // end: "top 10%",
            scrub: true,
            toggleClass: {
              targets: ".phone",
              className: `phone${i - 1}`
            }
          }
        });
      });


      var boxEls = document.querySelectorAll(".on");


      let tl = this.$gsap.timeline({
        scrollTrigger: {
          id: "box",
          trigger: ".mobile",
          toggleActions: "play puase resume pause",
          start: "20%",
          end: "60%",
          // markers: true,
          scrub: 0.25
        }
      });

      tl.from(boxEls, {
        opacity: 0,
        marginLeft: 0,
        transform: "scale(1.5)",
        stagger: 0.5
      });

    }

  }
}
</script>
<style scoped>
@import 'assets/style/main.css';

.mobile {
  width: 770px;
  height: 1336px;
  margin: auto;
  margin-top: 400px;
  margin-bottom: -367px;
  position: relative;
}

.mobile .hardware {
  width: 770px;
  height: 1336px;
  background-size: 770px 1336px;
  background-repeat: no-repeat;
}

.mobile .screen {
  width: 770px;
  height: 1336px;
  display: block;
  box-sizing: border-box;
  padding: 80px 20px 20px 20px;
  position: absolute;
  top: 0;
}

.mobile .screen .image-top {
  width: 650px;
  height: 200px;
  background-size: 650px 200px;
  background-repeat: no-repeat;
  position: relative;
  z-index: 3;
  margin: auto;
}

.mobile .screen .downloads {
  list-style: none;
  margin: auto;
  z-index: 33;
  margin-top: 20px;
  padding-left: 0;
}

.mobile .screen .downloads .download {
  width: 100%;
  height: 200px;
  margin-bottom: 20px;
  text-align: center;
}

.mobile .screen .downloads .download-show {
  width: 730px;
  height: 200px;
  background-size: cover;
  background-repeat: no-repeat;
 }

.mobile .screen .downloads .on {
  opacity: 1;
  width: 100%;
  transform: scale(1);
}

.mobile .screen .downloads .on-1 {
  width: 730px;
  height: 200px;
  background-size: cover;
  background-repeat: no-repeat;
 }

.mobile .screen .downloads .on-2 {
  width: 730px;
  height: 200px;
  background-size: cover;
  background-repeat: no-repeat;
 }

.mobile .screen .downloads .on-3 {
  width: 730px;
  height: 200px;
  background-size: cover;
  background-repeat: no-repeat;
 }


.cards .outer {
  display: flex;
  align-items: center;
  justify-content: center;
}

.cards .card {
  background: #ffffff;
  width: 430px;
  display: flex;
  align-items: center;
  padding: 20px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  justify-content: space-between;
  border-radius: 100px 20px 20px 100px;
  animation: animate 5s linear infinite;
  animation-delay: calc(3s * var(--delay));
}

.outer:hover .card {
  animation-play-state: paused;
}

.cards .card:last-child {
  animation-delay: calc(-3s * var(--delay));
}

@keyframes animate {
  0% {
    opacity: 0;
    transform: translateY(100%) scale(0.5);
  }
  5%,
  20% {
    opacity: 0.4;
    transform: translateY(100%) scale(0.7);
  }
  25%,
  40% {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0%) scale(1);
  }
  45%,
  60% {
    opacity: 0.4;
    transform: translateY(-100%) scale(0.7);
  }
  65%,
  100% {
    opacity: 0;
    transform: translateY(-100%) scale(0.5);
  }
}

.card .content {
  display: flex;
  align-items: center;
}

.cards .card .img {
  height: 90px;
  width: 90px;
  position: absolute;
  left: -5px;
  background: #fff;
  border-radius: 50%;
  padding: 5px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
}

.card .img img {
  height: 100%;
  width: 100%;
  border-radius: 50%;
  object-fit: cover;
}

.card .details {
  margin-left: 80px;
}

.details span {
  font-weight: 600;
  font-size: 18px;
}

.card a {
  text-decoration: none;
  padding: 7px 18px;
  border-radius: 25px;
  color: #fff;
  background: linear-gradient(to bottom, #bea2e7 0%, #86b7e7 100%);
  transition: all 0.3s ease;
}

.card a:hover {
  transform: scale(0.94);
}


/********************************/

.container {
  /*position: absolute;*/
  /*top: 20%;*/
  /*left: 30%;*/
  /*transform: translate(-50%, -50%);*/
  width: 500px;
  height: 200px;
  padding: 30px;
  background: whitesmoke;
  border-radius: 10px;
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
}

.logo {
  width: 180px;
  height: 180px;
  background-color: rgba(0, 0, 0, 0.4);
  background-image: url(https://res.cloudinary.com/saify/image/upload/v1539009756/icon.jpg);
  background-size: cover;
  border-radius: 50%;
  float: left;
  shape-outside: circle();
  margin: 30px 20px 30px 0;
  /*box-shadow: -2px 2px 400px #808080;*/
  transform: translate(-70%, -10%);
}

h1 {
  font-family: "Marck Script", san-serif;
  transform: translateX(-85px);
  margin: 0 0 5px;
  padding: 0;
  font-size: 30px;
}

h3 {
  font-style: italic;
  font-weight: 600;
  transform: translateX(-85px);
  margin: 0 0 20px;
  padding: 0;
}

.bio {
  transform: translateX(-95px);
  font-family: "KoHo", sans-serif;
  margin: 0;
  padding: 0;
  text-align: justify;
  line-height: 28px;
}

.social {
  display: grid;
  line-height: 2.5;
  transform: translate(260px, -190px);
  width: 40px;
}

.s-btn {
  color: black;
}

</style>
